#! /usr/bin/env python 
###################################
##    Davi Ortega                ##
###################################
import bitk
import sys

if '-h' in sys.argv:
	print 'Reads list generated by getorganism.py and KEEP only the sequences from the given alignment of the organisms in the list\n\n\tSintaxe: python keeporganism.py file.list alignment.fa'
	sys.exit()

listfile = open(sys.argv[1],'r')

list_org = []
for line in listfile:
	list_org.append(line.replace('\n',''))

seq_dic, seq_list = bitk.fastareader(sys.argv[2])


output = ''
for name, seq in seq_dic.iteritems():
	organism = name.split('-')[0]
	if organism in list_org:
		output += '>' + name + '\n' + seq + '\n'

datafile = open(sys.argv[2][:-3] + '.new.fa', 'w')
datafile.write(output)
datafile.close()
listfile.close()
		
