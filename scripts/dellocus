#! /usr/bin/env python 
###################################
##    Davi Ortega                ##
###################################
import bitk
import sys

if '-h' in sys.argv:
	print 'Reads list generated by getlocus.py and DEL only the sequences from the given alignment of the proteins in the list\n\n\tSintaxe: python dellocus.py file.list alignment.fa'
	sys.exit()

listfile = open(sys.argv[1],'r')

list_org = []
for line in listfile:
	list_org.append(line.replace('\n',''))

seq_dic, seq_list = bitk.fastareader(sys.argv[2])


output = ''
for name in seq_list:
	name = name.replace('/','-')
	organism = name.split('-')[0] + '-' + name.split('-')[1]
	if organism not in list_org:
		output += '>' + name + '\n' + seq_dic[name] + '\n'

datafile = open(sys.argv[2][:-3] + '.new.fa', 'w')
datafile.write(output)
datafile.close()
listfile.close()
		
